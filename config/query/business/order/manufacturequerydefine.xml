<?xml version="1.0" encoding="UTF-8"?>
<root>
  <query>
    <pool></pool>    
    <name value="getRequisitionById" />
     <where>
       <w name="A.YSId" des=""  reqName="YSId" dtype="ch" oper="="  lg="AND" bt="" />
       <w name="A.requisitionId"   des=""  reqName="requisitionId"   dtype="ch" oper="="  lg="AND" bt="" />
       <w name="A.requisitionType" des=""  reqName="requisitionType" dtype="ch" oper="="  lg="AND" bt="" />
    </where>
  <select>
      <f name="A.YSId" alias="" ctype="" />
      <f name="a.recordId" alias="" ctype="" />
      <f name="a.requisitionId" alias="" ctype="" />
      <f name="a.requisitionDate" alias="" ctype="" />
      <f name="A.collectYsid" alias="" ctype="" />
      <f name="a.storeUserId" alias="" ctype="" />
      <f name="a.requisitionUserId" alias="" ctype="" />
      <f name="a.requisitionSts" alias="" ctype="料件出库状态" />
      <f name="a.requisitionSts" alias="requisitionStsId" ctype="" />
      <f name="b.loginName" alias="storeUser" ctype="" />  
      <f name="c.loginName" alias="requisitionUser" ctype="" />
      <f name="a.virtualClass" alias="" ctype="" />
      <f name="a.deleteFlag" alias="" ctype="" />
  </select>
    <!-- 条件可以获得系统变量值 '@:来源session,#来源 2016/1/8未实现' -->
    <!-- $：由程序根据where句的情况追加where关键字' 无$：程序不负责追加where关键字，在from句中需写入where关键字 -->
    <from>b_requisition a LEFT JOIN s_user b ON a.storeUserId=b.UserID AND b.deleteFlag='0' LEFT JOIN s_user c ON a.requisitionUserId=c.UserID AND c.deleteFlag='0'  where a.deleteFlag='0'</from>
    <orderby>a.requisitionId </orderby>
    <groupby></groupby>
    <having></having>
	<power></power>    
  </query>
  <query>
    <pool></pool>    
    <name value="getPurchasePlanByYSId" />
    <where>
    	<w name="A.YSId" des="" reqName="YSId" dtype="ch" oper="=" lg="AND" bt="" />
    </where>
  	<select>
      <f name="a.recordId" alias="" ctype="" />
      <f name="a.YSId" alias="" ctype="" />
      <f name="a.materialId" alias="" ctype="" />
      <f name="a.materialName" alias="" ctype="" />
      <f name="a.supplierId" alias="" ctype="" />
      <f name="a.manufactureQuantity" alias="" ctype="" />
      <f name="a.quantityOnHand" alias="" ctype="" />
      <f name="a.availabelToPromise" alias="" ctype="" />
      <f name="a.totalRequisition" alias="" ctype="" />
      <f name="a.unitQuantity" alias="" ctype="" />
      <f name="a.unit" alias="" ctype="计量单位" />
      <f name="a.purchaseType" alias="purchaseTypeName" ctype="物料采购类别" />
      <f name="a.purchaseType" alias="" ctype="" />
      <f name="a.subBomNo" alias="" ctype="" />
      <f name="b.areaNumber" alias="" ctype="" />
  </select>
    <!-- 条件可以获得系统变量值 '@:来源session,#来源 2016/1/8未实现' -->
    <!-- $：由程序根据where句的情况追加where关键字' 无$：程序不负责追加where关键字，在from句中需写入where关键字 -->
   <from>v_createrequisitionfromplan AS A LEFT JOIN v_purchasestockin_groupby_ysid_materialid b ON b.YSId=a.YSId AND b.materialId=a.materialId  WHERE  A.deleteFlag = '0'</from>
  
    <groupby></groupby>
    <having></having>
    <!--
    <union>
	    <where>
    		<w name="b.YSId" des="" reqName="YSId" dtype="ch" oper="=" lg="AND" bt="" />
	    </where>	    
	    <select>
	      <f name="''" alias="recordId" ctype="" />
	      <f name="c.YSId" alias="YSId" ctype="" />
	      <f name="b.rawMaterialId" alias="materialId" ctype="" />
	      <f name="b.materialName" alias="" ctype="" />
	      <f name="''" alias="contractId" ctype="" />
	      <f name="''" alias="supplierId" ctype="" />
	      <f name="b.totalQuantity" alias="manufactureQuantity" ctype="" />
	      <f name="''" alias="contractStorage" ctype="" />
	      <f name="quantityOnHand" alias="" ctype="" />
	      <f name="b.availabelToPromise" alias="" ctype="" />
	      <f name="IFNULL(c.quantity,'0.00')" alias="totalRequisition" ctype="" />
	      <f name="'-'" alias="unitQuantity" ctype="" />
	      <f name="b.unit" alias="" ctype="计量单位" />
	      <f name="''" alias="contractMaterialId" ctype="" />
	      <f name="'原材料'" alias="purchaseTypeName" ctype="物料采购类别" />
	      <f name="'040'" alias="purchaseType" ctype="" />
      	  <f name="''" alias="areaNumber" ctype="" />
	    </select>
	    <from>v_purchaseplandetailzz b LEFT JOIN v_requisitiondetailgroup c ON b.rawMaterialId=c.materialId AND b.YSId=c.YSId AND c.deleteFlag='0' where</from>	
	    <groupby></groupby>
	    <having></having>
    </union>
    -->
    <orderby>materialId</orderby>
	<power></power>    
  </query>
  
  <query>
    <pool></pool>    
    <name value="getPartsOrderDetailByYSId" />
    <where>
    	<w name="A.peiYsid" des="" reqName="peiYsid" dtype="ch" oper="=" lg="AND" bt="" />
    </where>
  	<select>
      <f name="a.recordId" alias="" ctype="" />
      <f name="a.YSId" alias="" ctype="" />
      <f name="a.materialId" alias="" ctype="" />
      <f name="a.materialName" alias="" ctype="" />
      <f name="c.contractId" alias="" ctype="" />
      <f name="c.supplierId" alias="" ctype="" />
      <f name="a.quantity" alias="manufactureQuantity" ctype="" />
      <f name="c.contractStorage" alias="" ctype="" />
      <f name="a.quantityOnHand" alias="" ctype="" />
      <f name="a.availabelToPromise" alias="" ctype="" />
      <f name="ifnull(d.quantity,'0')" alias="totalRequisition" ctype="" />
      <f name="'1'" alias="unitQuantity" ctype="" />
      <f name="a.unit" alias="" ctype="计量单位" />
      <f name="b.materialId" alias="contractMaterialId" ctype="" />
      <f name="a.purchaseType" alias="purchaseTypeName" ctype="物料采购类别" />
      <f name="a.purchaseType" alias="" ctype="" />
      <f name="b.areaNumber" alias="" ctype="" />
      <f name="a.peiYsid" alias="" ctype="" />
  </select>
    <!-- 条件可以获得系统变量值 '@:来源session,#来源 2016/1/8未实现' -->
    <!-- $：由程序根据where句的情况追加where关键字' 无$：程序不负责追加where关键字，在from句中需写入where关键字 -->
   <from>v_orderdetail AS A LEFT JOIN v_purchasestockindetailgroup b ON b.YSId = a.YSId AND b.materialId = a.materialId AND b.deleteFlag='0' LEFT JOIN v_purchaseorderdetail c ON a.YSId=c.YSId AND c.materialId=a.materialId AND c.deleteFlag='0' LEFT JOIN v_requisitiondetailgroup d ON  a.materialId = d.materialId AND d.YSId = a.YSId AND (d.deleteFlag = '0') WHERE  A.deleteFlag = '0'</from>
    <groupby></groupby>
    <having></having>
    <orderby>a.materialId</orderby>
	<power></power>    
  </query>
  <query>
    <pool></pool>    
    <name value="getMAXRequisitionId" />
     <where>
       <w name="A.parentId" des=""  reqName="parentId" dtype="ch" oper="="  lg="" bt="" />
    </where>
  <select>
      <f name=" IFNULL(MAX(a.subId+1),1)" alias="MaxSubId" ctype="" />
  </select>
    <!-- 条件可以获得系统变量值 '@:来源session,#来源 2016/1/8未实现' -->
    <!-- $：由程序根据where句的情况追加where关键字' 无$：程序不负责追加where关键字，在from句中需写入where关键字 -->
    <from>b_requisition a</from>
    <orderby></orderby>
    <groupby></groupby>
    <having></having>
	<power></power>
  </query>
  
  <query>
    <pool></pool>    
    <name value="getMAXTaskId" />
     <where>
       <w name="A.parentId" des=""  reqName="parentId" dtype="ch" oper="="  lg="" bt="" />
    </where>
  <select>
      <f name=" IFNULL(MAX(a.subId+1),1)" alias="MaxSubId" ctype="" />
  </select>
    <!-- 条件可以获得系统变量值 '@:来源session,#来源 2016/1/8未实现' -->
    <!-- $：由程序根据where句的情况追加where关键字' 无$：程序不负责追加where关键字，在from句中需写入where关键字 -->
    <from>b_ProductionTask a</from>
    <orderby></orderby>
    <groupby></groupby>
    <having></having>
	<power></power>
  </query>
  <query>
    <pool></pool>    
    <name value="getRequisitionDetailById" />
     <where>
        <w name="A.requisitionId" des=""  reqName="requisitionId" dtype="ch" oper="="  lg="AND" bt="" />
        <w name="A.recordId" des=""  reqName="recordId" dtype="ch" oper="="  lg="AND" bt="" />
    </where>
  <select>
      <f name="a.recordId" alias="" ctype="" />
      <f name="a.detailRecordId" alias="" ctype="" />
      <f name="a.YSId" alias="" ctype="" />
      <f name="a.materialId" alias="" ctype="" />
      <f name="a.materialName" alias="" ctype="" />
      <f name="a.purchaseType" alias="" ctype="物料采购类别" />
      <f name="a.remarks" alias="" ctype="" />
      <f name="a.requisitionId" alias="" ctype="" />
      <f name="a.requisitionDate" alias="" ctype="" />
      <f name="a.requisitionSts" alias="" ctype="料件出库状态" />
      <f name="a.usedType" alias="" ctype="单独领料用途" />
      <f name="a.usedType" alias="usedTypeId" ctype="" />
      <f name="format(replace(a.quantity,',',''),2)" alias="quantity" ctype="" />
      <f name="IFNULL(a.overQuantity,0)" alias="overQuantity" ctype="" />
      <f name="a.deleteFlag" alias="" ctype="" />
      <f name="IFNULL(a.contractId,'-')" alias="contractId" ctype="" />
      <f name="IFNULL(a.supplierId,'-')" alias="supplierId" ctype="" />
      <f name="c.loginName" alias="requisitionUser" ctype="" />
  </select>
    <!-- 条件可以获得系统变量值 '@:来源session,#来源 2016/1/8未实现' -->
    <!-- $：由程序根据where句的情况追加where关键字' 无$：程序不负责追加where关键字，在from句中需写入where关键字 -->
    <from>v_requisitionDetail a LEFT JOIN s_user c ON a.requisitionUserId=c.UserID AND c.deleteFlag='0'  where a.deleteFlag='0'</from>
    <orderby>a.materialId </orderby>
    <groupby></groupby>
    <having></having>
	<power>
	</power>    
  </query>
  <query>
    <pool></pool>    
    <name value="updateRequisition" />
    <where>
        <w name="A.requisitionId" des=""  reqName="requisitionId" dtype="ch" oper="="  lg="AND" bt="" />
    </where>
  	<select>
      <f name="a.recordId" alias="" ctype="" />
      <f name="a.detailRecordId" alias="" ctype="" />
      <f name="a.requisitionId" alias="" ctype="" />
      <f name="a.requisitionDate" alias="" ctype="" />
      <f name="a.YSId" alias="" ctype="" />
      <f name="a.materialId" alias="" ctype="" />
      <f name="a.materialName" alias="" ctype="" />
      <f name="a.contractId" alias="" ctype="" />
      <f name="a.supplierId" alias="" ctype="" />
      <f name="c.manufactureQuantity" alias="" ctype="" />
      <f name="a.quantityOnHand" alias="" ctype="" />
      <f name="a.availabelToPromise" alias="" ctype="" />
      <f name="c.totalRequisition" alias="" ctype="" />
      <f name="c.unitQuantity" alias="" ctype="" />
      <f name="a.unit" alias="" ctype="计量单位" />
      <f name="c.materialId" alias="contractMaterialId" ctype="" />
      <f name="a.purchaseType" alias="" ctype="物料采购类别" />
      <f name="a.quantity" alias="" ctype="" />
      <f name="a.overQuantity" alias="" ctype="" />
      <f name="a.scrapQuantity" alias="" ctype="" />
      <f name="a.excessType" alias="excessTypeId" ctype="" />
      <f name="a.excessType" alias="" ctype="超领区分" />
      <f name="a.virtualClass" alias="" ctype="虚拟领料区分" />
      <f name="IFNULL(a.subBomNo,'0')" alias="subBomNo" ctype="" />
      <f name="a.remarks" alias="" ctype="" />
      <f name="d.LoginName" alias="" ctype="" />
  </select>
    <!-- 条件可以获得系统变量值 '@:来源session,#来源 2016/1/8未实现' -->
    <!-- $：由程序根据where句的情况追加where关键字' 无$：程序不负责追加where关键字，在from句中需写入where关键字 -->
   <from>v_requisitiondetail  AS A LEFT JOIN s_user d ON a.requisitionUserId=d.UserId LEFT JOIN  b_purchaseplandetail c ON a.ysid = c.ysid AND  c.materialId = a.materialId AND c.subBomNo = IFNULL(a.subBomNo,0) AND c.deleteFlag = '0' WHERE  A.deleteFlag = '0'</from>
    <orderby>A.materialId</orderby>
    <groupby></groupby>
    <having></having>
	<power></power>    
  </query>
  <query>
    <pool></pool>    
    <name value="getPurchasePlanDetailGroup" />
    <where>
    	<w name="A.YSId" des="" reqName="YSId" dtype="ch" oper="=" lg="AND" bt="" />
    </where>
  	<select>
      <f name="a.recordId" alias="" ctype="" />
      <f name="a.YSId" alias="" ctype="" />
      <f name="a.materialId" alias="" ctype="" />
      <f name="a.materialName" alias="" ctype="" />
      <f name="a.supplierId" alias="" ctype="" />
      <f name="a.manufactureQuantity" alias="" ctype="" />
      <f name="a.quantityOnHand" alias="" ctype="" />
      <f name="a.availabelToPromise" alias="" ctype="" />
      <f name="a.unitQuantity" alias="" ctype="" />
      <f name="a.unit" alias="" ctype="计量单位" />
      <f name="a.purchaseType" alias="" ctype="物料采购类别" />
      <f name="IFNULL(b.quantity,0)" alias="quantity" ctype="" />
  </select>
    <!-- 条件可以获得系统变量值 '@:来源session,#来源 2016/1/8未实现' -->
    <!-- $：由程序根据where句的情况追加where关键字' 无$：程序不负责追加where关键字，在from句中需写入where关键字 -->
   <from>v_purchaseplandetailgroup AS A LEFT JOIN v_workshopreturngroup b ON b.YSId=a.YSId AND b.materialId=a.materialId WHERE  A.deleteFlag = '0' AND a.supplierId != '0574YZ00' AND left(a.materialId,1) != 'H' AND a.purchaseType = '010'  </from>
    <orderby>A.materialId</orderby>
    <groupby></groupby>
    <having></having>
	<power></power>    
  </query>
  <query>
    <pool></pool>    
    <name value="getWorkshopReturnList" />
    <where>
    	<w name="a.YSId" des="" reqName="YSId" dtype="ch" oper="=" lg="AND" bt="" />
    	<w name="a.workshopReturnId" des="" reqName="workshopReturnId" dtype="ch" oper="=" lg="AND" bt="" />
    </where>
  	<select>
      <f name="a.recordId" alias="" ctype="" />
      <f name="a.workshopReturnId" alias="" ctype="" />
      <f name="a.materialId" alias="" ctype="" />
      <f name="a.returnDate" alias="" ctype="" />
      <f name="a.YSId" alias="" ctype="" />
      <f name="a.quantity" alias="" ctype="" />
      <f name="b.materialName" alias="" ctype="" />
      <f name="b.unit" alias="" ctype="计量单位" />
      <f name="b.recordId" alias="materialRecordId" ctype="" />
      <f name="b.parentId" alias="materialParentId" ctype="" />
      <f name="a.taskId" alias="" ctype="" />
  </select>
    <!-- 条件可以获得系统变量值 '@:来源session,#来源 2016/1/8未实现' -->
   <from>b_workshopreturn a LEFT JOIN b_material b ON b.materialId = a.materialId AND b.deleteFlag = '0' where a.deleteFlag='0'</from>
    <orderby>a.workshopReturnId DESC,a.materialId</orderby>
    <groupby></groupby>
    <having></having>
	<power></power>    
  </query>
  
  <query>
    <pool></pool>    
    <name value="getRawMaterialList" />
    <where>
    	<w name="b.YSId" des="" reqName="YSId" dtype="ch" oper="=" lg="AND" bt="" />
    </where>
  	<select>
	      <f name="b.rawMaterialId" alias="materialId" ctype="" />
	      <f name="b.materialId" alias="parentMaterialId" ctype="" />
	      <f name="b.materialName" alias="" ctype="" />
	      <f name="SUM(REPLACE(b.purchaseQuantity,',',''))" alias="purchaseQuantity" ctype="" />
	      <f name="b.quantityOnHand" alias="" ctype="" />
	      <f name="b.availabelToPromise" alias="" ctype="" />
	      <f name="IFNULL(c.quantity,'0')" alias="totalRequisition" ctype="" />
	      <f name="IFNULL(d.quantity,'0')" alias="requisitionQty" ctype="" />
	      <f name="b.unit" alias="" ctype="计量单位" />
	      <f name="b.unit" alias="unitId" ctype="" />
	      <f name="b.zzunit" alias="" ctype="计量单位" />
	      <f name="b.zzunit" alias="zzunitId" ctype="" />
  </select>
    <!-- 条件可以获得系统变量值 '@:来源session,#来源 2016/1/8未实现' -->
   <from>v_purchaseplandetailzz b LEFT JOIN v_stockoutdetailgroup c ON b.rawMaterialId = c.materialId AND c.YSId=b.YSId  LEFT JOIN v_requisitiondetailgroup d ON b.rawMaterialId=d.materialId AND d.YSId = b.YSId </from>
    <orderby>b.rawMaterialId</orderby>
    <groupby>b.rawMaterialId</groupby>
    <having>cast(purchaseQuantity AS DECIMAL (10, 0)) > 0</having>
	<power></power>    
  </query>
   <query>
    <pool></pool>    
    <name value="getRawRequirementById" />
    <where>
    	<w name="b.YSId"    des="" reqName="YSId"    dtype="ch" oper="=" lg="AND" bt="" />
    	<w name="b.rawType" des="" reqName="rawType" dtype="ch" oper="=" lg="AND" bt="" />
    </where>
  	<select>
	      <f name="b.materialId" alias="" ctype="" />
	      <f name="b.materialName" alias="" ctype="" />
	      <f name="b.rawType" alias="" ctype="" />
	      <f name="b.quantity" alias="" ctype="" />
	      <f name="b.quantityOnHand" alias="" ctype="" />
	      <f name="b.availabelToPromise" alias="" ctype="" />
	      <f name="IFNULL(c.quantity,'0')" alias="totalRequisition" ctype="" />
	      <f name="IFNULL(d.quantity,'0')" alias="requisitionQty" ctype="" />
	      <f name="b.unit" alias="" ctype="计量单位" />
	      <f name="b.unit" alias="unitId" ctype="" />
  </select>
    <!-- 条件可以获得系统变量值 '@:来源session,#来源 2016/1/8未实现' -->
   <from>v_rawrequirement b LEFT JOIN v_stockoutdetailgroup c ON b.materialId = c.materialId AND c.YSId=b.YSId  LEFT JOIN v_requisitiondetailgroup d ON b.materialId=d.materialId AND d.YSId = b.YSId </from>
    <orderby>b.materialId</orderby>
    <groupby></groupby>
    <having></having>
	<power></power>    
  </query>
  <query>
    <pool></pool>     
    <name value="getOrderListForZZ" />
    <where>
      <w name="A.full_field" des=""  reqName="keyword1" dtype="ch" oper="like"  lg="AND" bt="" />
   	  <w name="A.full_field" des=""  reqName="keyword2" dtype="ch" oper="like"  lg="AND" bt="" />
   	  <w name="B.YSId"       des=""  reqName="YSId"      dtype="ch" oper="="  lg="AND" bt="" />
     </where>
    <select>
      <f name="b.materialId" alias="" ctype="" />
      <f name="b.materialName" alias="" ctype="" />
      <f name="b.PIId" alias="" ctype="" />
      <f name="b.YSId" alias="" ctype="" />
      <f name="b.quantity" alias="" ctype="" />
      <f name="b.price" alias="" ctype="" />
      <f name="b.totalprice" alias="" ctype="" />
      <f name="b.totalQuantity" alias="" ctype="" />
      <f name="b.status" alias="statusName" ctype="订单状态" />
      <f name="b.status" alias="" ctype="" />
      <f name="b.returnQuantity" alias="" ctype="" />
      <f name="b.orderCost" alias="" ctype="" />
      <f name="b.orderDate" alias="" ctype="" />
      <f name="b.deliveryDate" alias="" ctype="" />
      <f name="b.storageDate" alias="" ctype="" />
      <f name="b.rebateRate" alias="" ctype="" />
      <f name="a.rawMaterialId" alias="" ctype="" />
      <f name="A.full_field" alias="" ctype="" />
    </select>
    <from>v_orderdetailforzz AS A LEFT JOIN v_orderlist b ON a.YSId=b.ysid AND b.deleteFlag='0'</from>
    <orderby>A.YSId </orderby>
    <groupby></groupby>
    <having>b.YSId > 0</having>
	<power>
	</power>    
  </query> 
  <query>
    <pool></pool>     
    <name value="requisitionListForF02" />
    <where>
      <w name="A.full_field" des=""  reqName="keyword1" dtype="ch" oper="like"  lg="AND" bt="" />
   	  <w name="A.full_field" des=""  reqName="keyword2" dtype="ch" oper="like"  lg="AND" bt="" />
   	  <w name="B.YSId"       des=""  reqName="YSId"      dtype="ch" oper="="  lg="AND" bt="" />
     </where>
    <select>
      <f name="b.materialId" alias="" ctype="" />
      <f name="b.materialName" alias="" ctype="" />
      <f name="b.PIId" alias="" ctype="" />
      <f name="b.YSId" alias="" ctype="" />
      <f name="b.quantity" alias="" ctype="" />
      <f name="b.price" alias="" ctype="" />
      <f name="b.totalprice" alias="" ctype="" />
      <f name="b.totalQuantity" alias="" ctype="" />
      <f name="b.status" alias="statusName" ctype="订单状态" />
      <f name="b.status" alias="" ctype="" />
      <f name="b.returnQuantity" alias="" ctype="" />
      <f name="b.orderCost" alias="" ctype="" />
      <f name="b.orderDate" alias="" ctype="" />
      <f name="b.deliveryDate" alias="" ctype="" />
      <f name="b.storageDate" alias="" ctype="" />
      <f name="b.rebateRate" alias="" ctype="" />
      <f name="a.rawMaterialId" alias="" ctype="" />
      <f name="A.full_field" alias="" ctype="" />
      <f name="IFNULL(c.requisitionSts,'010')" alias="requisitionSts" ctype="" />
      <f name="IFNULL(c.quantity,0)" alias="requisitionQty" ctype="" />
      <f name="IFNULL(c.YSId,'')" alias="taskId" ctype="" />
      <f name="IFNULL(c.requistionYsid,'')" alias="requistionYsid" ctype="" />
      <f name="IFNULL(c.collectYsid,'')" alias="collectYsid" ctype="" />
    </select>
    <!-- 吹塑待领料 -->
    <from>v_orderdetailforf02 AS A LEFT JOIN v_orderlist b ON a.YSId=b.ysid LEFT JOIN v_requisition_group_ysid_f02 c ON a.YSId=c.Ysid </from>
    <orderby>A.YSId </orderby>
    <groupby></groupby>
    <having>#</having>
	<power>
	</power>    
  </query> 
  <query>
    <pool></pool>     
    <name value="requisitionListForF01" />
    <where>
      <w name="A.full_field" des=""  reqName="keyword1" dtype="ch" oper="like"  lg="AND" bt="" />
   	  <w name="A.full_field" des=""  reqName="keyword2" dtype="ch" oper="like"  lg="AND" bt="" />
   	  <w name="B.YSId"       des=""  reqName="YSId"      dtype="ch" oper="="  lg="AND" bt="" />
     </where>
    <select>
      <f name="b.materialId" alias="" ctype="" />
      <f name="b.materialName" alias="" ctype="" />
      <f name="b.PIId" alias="" ctype="" />
      <f name="b.YSId" alias="" ctype="" />
      <f name="b.quantity" alias="" ctype="" />
      <f name="b.price" alias="" ctype="" />
      <f name="b.totalprice" alias="" ctype="" />
      <f name="b.totalQuantity" alias="" ctype="" />
      <f name="b.status" alias="statusName" ctype="订单状态" />
      <f name="b.status" alias="" ctype="" />
      <f name="b.returnQuantity" alias="" ctype="" />
      <f name="b.orderCost" alias="" ctype="" />
      <f name="b.orderDate" alias="" ctype="" />
      <f name="b.deliveryDate" alias="" ctype="" />
      <f name="b.storageDate" alias="" ctype="" />
      <f name="b.rebateRate" alias="" ctype="" />
      <f name="a.rawMaterialId" alias="" ctype="" />
      <f name="A.full_field" alias="" ctype="" />
      <f name="IFNULL(c.requisitionSts,'010')" alias="requisitionSts" ctype="" />
      <f name="IFNULL(c.quantity,0)" alias="requisitionQty" ctype="" />
      <f name="IFNULL(c.YSId,'')" alias="taskId" ctype="" />
      <f name="IFNULL(c.requistionYsid,'')" alias="requistionYsid" ctype="" />
      <f name="IFNULL(c.collectYsid,'')" alias="collectYsid" ctype="" />
      <f name="b.virtualQty" alias="" ctype="" />
      <f name="d.quantity" alias="stockinQty" ctype="" />
      <f name="IFNULL(IFNULL(b.virtualQty,d.quantity),0)" alias="bstockinQty" ctype="" />
    </select>
    <!-- 吸塑 -->
    <from>v_orderdetailforf01 AS A LEFT JOIN v_orderdetail b ON a.YSId=b.ysid LEFT JOIN v_requisition_group_ysid_f01 c ON a.YSId=c.YSId LEFT JOIN v_purchasestockindetail d ON d.YSId=a.YSId AND left(d.materialId,1)='I' </from>
    <orderby>A.YSId </orderby>
    <groupby></groupby>
    <having>#</having>
	<power>
	</power>    
  </query> 
  <query>
    <pool></pool>     
    <name value="requisitionListForB01" />
    <where>
      <w name="A.full_field" des=""  reqName="keyword1" dtype="ch" oper="like"  lg="AND" bt="" />
   	  <w name="A.full_field" des=""  reqName="keyword2" dtype="ch" oper="like"  lg="AND" bt="" />
   	  <w name="B.YSId"       des=""  reqName="YSId"      dtype="ch" oper="="  lg="AND" bt="" />
     </where>
    <select>
      <f name="b.materialId" alias="" ctype="" />
      <f name="b.materialName" alias="" ctype="" />
      <f name="b.PIId" alias="" ctype="" />
      <f name="b.YSId" alias="" ctype="" />
      <f name="b.quantity" alias="" ctype="" />
      <f name="b.price" alias="" ctype="" />
      <f name="b.totalprice" alias="" ctype="" />
      <f name="b.totalQuantity" alias="" ctype="" />
      <f name="b.status" alias="statusName" ctype="订单状态" />
      <f name="b.status" alias="" ctype="" />
      <f name="b.returnQuantity" alias="" ctype="" />
      <f name="b.orderCost" alias="" ctype="" />
      <f name="b.orderDate" alias="" ctype="" />
      <f name="b.deliveryDate" alias="" ctype="" />
      <f name="b.storageDate" alias="" ctype="" />
      <f name="b.rebateRate" alias="" ctype="" />
      <f name="a.rawMaterialId" alias="" ctype="" />
      <f name="A.full_field" alias="" ctype="" />
      <f name="IFNULL(c.requisitionSts,'010')" alias="requisitionSts" ctype="" />
      <f name="IFNULL(c.quantity,0)" alias="requisitionQty" ctype="" />
      <f name="IFNULL(c.YSId,'')" alias="taskId" ctype="" />
      <f name="IFNULL(c.requistionYsid,'')" alias="requistionYsid" ctype="" />
      <f name="IFNULL(c.collectYsid,'')" alias="collectYsid" ctype="" />
      <f name="b.virtualQty" alias="" ctype="" />
      <f name="d.quantity" alias="stockinQty" ctype="" />
      <f name="IFNULL(IFNULL(b.virtualQty,d.quantity),0)" alias="bstockinQty" ctype="" />
    </select>
    <!-- 吹塑待领料 -->
    <from>v_orderdetailforb01 AS A LEFT JOIN v_orderdetail b ON a.YSId=b.ysid LEFT JOIN v_requisition_group_ysid_b01 c ON a.YSId=c.Ysid LEFT JOIN v_purchasestockindetail d ON d.YSId=a.YSId AND left(d.materialId,1)='I' </from>
    <orderby>A.YSId </orderby>
    <groupby></groupby>
    <having>#</having>
	<power>
	</power>    
  </query> 
   <query>
    <pool></pool>    
    <name value="getMAXStockOutId" />
     <where>
       <w name="A.parentId" des=""  reqName="parentId" dtype="ch" oper="="  lg="" bt="" />
    </where>
  <select>
      <f name="IFNULL(MAX(a.subId+1),1)" alias="MaxSubId" ctype="" />
  </select>
    <!-- 条件可以获得系统变量值 '@:来源session,#来源 2016/1/8未实现' -->
    <!-- $：由程序根据where句的情况追加where关键字' 无$：程序不负责追加where关键字，在from句中需写入where关键字 -->
    <from>b_StockOut a</from>
    <orderby></orderby>
    <groupby></groupby>
    <having></having>
	<power></power>
  </query>
  <query>
    <pool></pool>     
    <name value="requisitionList" />
    <where>
      <w name="B.fullField" des=""  reqName="keyword1" dtype="ch" oper="like"  lg="AND" bt="" />
   	  <w name="B.fullField" des=""  reqName="keyword2" dtype="ch" oper="like"  lg="AND" bt="" />
   	  <w name="B.YSId"      des=""  reqName="YSId"     dtype="ch" oper="="     lg="AND" bt="" />
   	  <w name="B.requisitionSts" des=""  reqName="requisitionSts" dtype="ch" oper="="  lg="AND" bt="" />
   	  <w name="B.usedType" des=""  reqName="usedType" dtype="ch" oper="="  lg="AND" bt="" />
  	  <!--w name="left(b.materialId,1)"  des=""  reqName="makeTypeL"  dtype="ch" oper="&lt;&gt;"  lg="AND" bt="" /-->
   	  <!--w name="left(b.materialId,1)"  des=""  reqName="makeTypeG"  dtype="ch" oper="="  lg="AND" bt="" /-->
     </where>
    <select>
      <f name="b.requisitionId" alias="" ctype="" />
      <f name="b.requisitionDate" alias="" ctype="" />
      <f name="b.checkOutDate" alias="" ctype="" />
      <f name="b.recordId" alias="" ctype="" />
      <f name="b.YSId" alias="" ctype="" />
      <f name="b.materialId" alias="" ctype="" />
      <f name="b.materialName" alias="" ctype="" />
      <f name="b.requisitionUserId" alias="" ctype="" />
      <f name="b.collectYsid" alias="" ctype="" />
      <f name="b.requisitionSts" alias="" ctype="料件出库状态" />
      <f name="b.requisitionSts" alias="requisitionStsId" ctype="" />
      <f name="b.requisitionType" alias="" ctype="领料类别" />
      <f name="b.requisitionType" alias="requisitionTypeId" ctype="" />
      <f name="b.requisitionUserName" alias="" ctype="" />
      <f name="b.stockOutId" alias="" ctype="" />
      <f name="b.fullField" alias="" ctype="" />
    </select>
    <!-- 条件可以获得系统变量值 '@:来源session,#来源 2016/1/8未实现' -->
    <!-- $：由程序根据where句的情况追加where关键字' 无$：程序不负责追加where关键字，在from句中需写入where关键字 -->
    <!-- virtualClass:虚拟领料区分,010: 正常领料  -->
    <from>v_stockoutlist AS B WHERE b.virtualClass='010'</from>
    <orderby>b.requisitionDate DESC,b.requisitionId ,b.materialId</orderby>
    <groupby></groupby>
    <having></having>
	<power></power>    
  </query> 
  <query>
    <pool></pool>    
    <name value="requisitionDetailById" />
    <where>
        <w name="A.requisitionId" des=""  reqName="requisitionId" dtype="ch" oper="="  lg="AND" bt="" />
    </where>
  	<select>
      <f name="a.requisitionId" alias="" ctype="" />
      <f name="a.requisitionDate" alias="" ctype="" />
      <f name="a.YSId" alias="" ctype="" />
      <f name="a.materialId" alias="" ctype="" />
      <f name="e.materialName" alias="" ctype="" />
      <f name="e.quantityOnHand" alias="" ctype="" />
      <f name="e.availabelToPromise" alias="" ctype="" />
      <f name="e.MAPrice" alias="" ctype="" />
      <f name="a.quantity" alias="requisitionQty" ctype="" />
      <f name="b.areaNumber" alias="" ctype="" />
      <f name="c.manufactureQuantity" alias="planQty" ctype="" />
      <f name="c.purchaseQuantity" alias="contractQty" ctype="" />
      <f name="IFNULL(d.quantity,'0')" alias="stockoutQty" ctype="" />
      <f name="IFNULL(f.quantity,'0')" alias="rawQty" ctype="" />
  </select>
    <!-- 条件可以获得系统变量值 '@:来源session,#来源 2016/1/8未实现' -->
    <!-- $：由程序根据where句的情况追加where关键字' 无$：程序不负责追加where关键字，在from句中需写入where关键字 -->
   <from>v_requisitiondetail  AS A LEFT JOIN b_rawrequirement f ON f.YSId=a.YSId AND f.materialId=a.materialId LEFT JOIN v_purchasestockin_groupby_ysid_materialid b ON b.YSId=a.YSId AND b.materialId=a.materialId  LEFT JOIN v_purchaseplandetailgroup c ON c.YSId=a.YSId AND c.materialId = a.materialId  LEFT JOIN v_stockoutdetailgroup d ON d.YSId=a.YSId AND d.materialId=a.materialId LEFT JOIN b_material e ON e.materialId=a.materialId AND e.deleteFlag='0'</from>
    <orderby>A.materialId</orderby>
    <groupby></groupby>
    <having></having>
	<power></power>    
  </query>
  <query>
    <pool></pool>    
    <name value="stockoutListById" />
     <where>
       <w name="A.YSId" des=""  reqName="YSId" dtype="ch" oper="="  lg="AND" bt="" />
       <w name="A.requisitionId" des=""  reqName="requisitionId" dtype="ch" oper="="  lg="AND" bt="" />
    </where>
  <select>
      <f name="a.YSId" alias="" ctype="" />
      <f name="a.recordId" alias="" ctype="" />
      <f name="a.requisitionId" alias="" ctype="" />
      <f name="a.checkOutDate" alias="" ctype="" />
      <f name="a.stockOutId" alias="" ctype="" />
      <f name="b.loginName" alias="keepUser" ctype="" />  
      <f name="a.deleteFlag" alias="" ctype="" />
  </select>
    <!-- 条件可以获得系统变量值 '@:来源session,#来源 2016/1/8未实现' -->
    <!-- $：由程序根据where句的情况追加where关键字' 无$：程序不负责追加where关键字，在from句中需写入where关键字 -->
    <from>b_stockout a LEFT JOIN s_user b ON a.keepUser=b.UserID AND b.deleteFlag='0' where a.deleteFlag='0'</from>
    <orderby>a.requisitionId </orderby>
    <groupby></groupby>
    <having></having>
	<power>
	</power>    
  </query>
  <query>
    <pool></pool>    
    <name value="stockoutdetail" />
     <where>
       <w name="A.stockOutId" des=""  reqName="stockOutId" dtype="ch" oper="="  lg="AND" bt="" />
    </where>
  <select>
      <f name="a.recordId" alias="" ctype="" />
      <f name="a.YSId" alias="" ctype="" />
      <f name="a.stockOutId" alias="" ctype="" />
      <f name="a.materialId" alias="" ctype="" />
      <f name="a.materialName" alias="" ctype="" /> 
      <f name="a.quantity" alias="" ctype="" />
      <f name="a.price" alias="" ctype="" />
      <f name="a.checkOutDate" alias="" ctype="" />
      <f name="a.keepUser" alias="" ctype="" />
      <f name="b.loginName" alias="" ctype="" />
  </select>
    <!-- 条件可以获得系统变量值 '@:来源session,#来源 2016/1/8未实现' -->
    <!-- $：由程序根据where句的情况追加where关键字' 无$：程序不负责追加where关键字，在from句中需写入where关键字 -->
    <from>v_stockout a LEFT JOIN s_user b ON a.keepUser=b.userId AND b.deleteFlag='0'</from>
    <orderby>a.materialId </orderby>
    <groupby></groupby>
    <having></having>
	<power>
	</power>    
  </query>
  <query>
    <pool></pool>    
    <name value="zzmaterialFromPlan" />
     <where>
       <w name="b.YSId" des=""  reqName="YSId" dtype="ch" oper="="  lg="AND" bt="" />
    </where>
  <select>
      <f name="b.YSId" alias="" ctype="" />
      <f name="b.materialId" alias="" ctype="" />
      <f name="c.materialName" alias="" ctype="" /> 
      <f name="d.rawmaterialId" alias="" ctype="" />
      <f name="b.manufactureQuantity" alias="" ctype="" />
      <f name="b.purchaseQuantity" alias="" ctype="" />
      <f name="c.unit" alias="" ctype="计量单位" />
      <f name="b.purchaseType" alias="" ctype="" />
      <f name="b.deleteFlag" alias="" ctype="" />
  </select>
    <!-- 条件可以获得系统变量值 '@:来源session,#来源 2016/1/8未实现' -->
    <!-- $：由程序根据where句的情况追加where关键字' 无$：程序不负责追加where关键字，在from句中需写入where关键字 -->
    <from> v_purchaseplandetailgroup b LEFT JOIN  b_material c ON b.materialId=c.materialId AND c.deleteFlag='0' LEFT JOIN b_zzrawmaterial d ON d.materialId=b.materialId AND d.deleteFlag='0' WHERE b.supplierId='0574YZ00' AND LEFT(b.materialId,1) != 'H' AND b.deleteFlag='0' </from>
    <orderby>b.YSId,b.materialId </orderby>
    <groupby>b.YSId,b.materialId</groupby>
    <having>cast(b.purchaseQuantity AS DECIMAL (10, 0)) > 0</having>
	<power></power>    
  </query>
  <query>
    <pool></pool>    
    <name value="requisitionPrint" />
    <where>
        <w name="A.requisitionId" des=""  reqName="requisitionId" dtype="ch" oper="="  lg="AND" bt="" />
    </where>
  	<select>
      <f name="a.recordId" alias="" ctype="" />
      <f name="a.detailRecordId" alias="" ctype="" />
      <f name="a.requisitionId" alias="" ctype="" />
      <f name="a.requisitionDate" alias="" ctype="" />
      <f name="a.YSId" alias="" ctype="" />
      <f name="a.materialId" alias="" ctype="" />
      <f name="a.materialName" alias="" ctype="" />
      <f name="a.contractId" alias="" ctype="" />
      <f name="a.supplierId" alias="" ctype="" />
      <f name="a.quantityOnHand" alias="" ctype="" />
      <f name="a.availabelToPromise" alias="" ctype="" />
      <f name="c.quantity" alias="" ctype="" />
      <f name="a.unit" alias="" ctype="计量单位" />
      <f name="a.quantity" alias="" ctype="" />
      <f name="a.overQuantity" alias="" ctype="" />
      <f name="a.subBomNo" alias="" ctype="" />
  </select>
    <!-- 条件可以获得系统变量值 '@:来源session,#来源 2016/1/8未实现' -->
    <!-- $：由程序根据where句的情况追加where关键字' 无$：程序不负责追加where关键字，在from句中需写入where关键字 -->
   <from>v_requisitiondetail  AS A LEFT JOIN  v_stockout c ON a.requisitionId = c.requisitionId AND  c.materialId = a.materialId AND c.subBomNo = a.subBomNo AND c.deleteFlag = '0' WHERE  A.deleteFlag = '0'</from>
    <orderby>A.materialId</orderby>
    <groupby></groupby>
    <having></having>
	<power></power>    
  </query>
  <query>
    <pool></pool>    
    <name value="requisitionEdit" />
    <where>
        <w name="A.requisitionId" des=""  reqName="requisitionId" dtype="ch" oper="="  lg="AND" bt="" />
    </where>
  	<select>
      <f name="a.recordId" alias="" ctype="" />
      <f name="a.requisitionId" alias="" ctype="" />
      <f name="a.requisitionDate" alias="" ctype="" />
      <f name="a.YSId" alias="" ctype="" />
      <f name="a.requisitionUserId" alias="" ctype="" />
      <f name="c.collectYsid" alias="" ctype="" />
      <f name="c.taskId" alias="" ctype="" />
  </select>
    <!-- 条件可以获得系统变量值 '@:来源session,#来源 2016/1/8未实现' -->
    <!-- $：由程序根据where句的情况追加where关键字' 无$：程序不负责追加where关键字，在from句中需写入where关键字 -->
   <from>b_Requisition  AS A LEFT JOIN  b_ProductionTask c ON a.YSId = c.taskId  AND c.deleteFlag = '0' WHERE  A.deleteFlag = '0'</from>
    <orderby>A.requisitionId</orderby>
    <groupby></groupby>
    <having></having>
	<power></power>    
  </query>
  <query>
    <pool></pool>     
    <name value="stockoutForfinance" />
    <where>
      <w name="B.fullField" des=""  reqName="keyword1" dtype="ch" oper="like"  lg="AND" bt="" />
   	  <w name="B.fullField" des=""  reqName="keyword2" dtype="ch" oper="like"  lg="AND" bt="" />
   	  <w name="B.YSId"      des=""  reqName="YSId"     dtype="ch" oper="="     lg="AND" bt="" />
   	  <w name="B.requisitionSts" des=""  reqName="requisitionSts" dtype="ch" oper="="  lg="AND" bt="" />

   	  <w name="b.checkOutDate" des=""  reqName="stockOutDateStart" dtype="ch" oper="&gt;="  lg="AND" bt="" />
   	  <w name="b.checkOutDate" des=""  reqName="stockOutDateEnd" dtype="ch" oper="&lt;="  lg="AND" bt="" />
     </where>
    <select>    
      <f name="b.checkOutDate" alias="" ctype="" />
      <f name="b.YSId" alias="" ctype="" />
      <f name="b.materialId" alias="" ctype="" />
      <f name="c.supplierId" alias="" ctype="" />
      <f name="c.price" alias="" ctype="" />
      <f name="c.manufactureQuantity" alias="" ctype="" />
      <f name="c.purchaseQuantity" alias="" ctype="" />
      <f name="b.unit" alias="" ctype="计量单位" />
      <f name="b.materialName" alias="" ctype="" />
      <f name="b.stockOutId" alias="" ctype="" />
      <f name="b.collectYsid" alias="" ctype="" />
      <f name="format(replace(b.quantity,',',''),2)" alias="quantity" ctype="" />
      <f name="b.fullField" alias="" ctype="" />
    </select>
    <!-- 条件可以获得系统变量值 '@:来源session,#来源 2016/1/8未实现' -->
    <!-- $：由程序根据where句的情况追加where关键字' 无$：程序不负责追加where关键字，在from句中需写入where关键字 -->
    <!-- status = '0' 表示 订单状态为 "新建"  A.status = '0' AND   -->
    <from>v_stockoutforfinance AS b LEFT JOIN v_purchaseplandetailgroup c ON c.ysid=b.ysid AND c.materialId=b.materialId AND c.deleteFlag='0'  WHERE b.deleteFlag='0' </from>
    <orderby>b.stockOutId,b.materialId </orderby>
    <groupby></groupby>
    <having></having>
	<power></power>    
  </query>
  <query>
    <pool></pool>     
    <name value="getOrderListForRequisition" />
    <where>
      <w name="A.full_field" des=""  reqName="keyword1" dtype="ch" oper="like"  lg="AND" bt="" />
   	  <w name="A.full_field" des=""  reqName="keyword2" dtype="ch" oper="like"  lg="AND" bt="" />
     </where>
    <select>
      <f name="A.materialId" alias="" ctype="" />
      <f name="A.materialName" alias="" ctype="" />
      <f name="A.YSId" alias="" ctype="" />
      <f name="A.orderQty" alias="" ctype="" />
      <f name="A.manufactureQty" alias="" ctype="" />
      <f name="A.requisitionQty" alias="" ctype="" />
      <f name="A.requisitionDate" alias="" ctype="" />
      <f name="A.deliveryDate" alias="" ctype="" />
      <f name="A.stockinQty" alias="" ctype="" />
      <f name="A.virtualQty" alias="" ctype="" />
      <f name="IFNULL(IFNULL(A.virtualQty,A.stockinQty),0)" alias="bstockinQty" ctype="" />
    </select>
    <from>v_requisitionforzhuangpei a</from>
    <orderby>A.YSId</orderby>
    <groupby></groupby>
    <having>#</having>
	<power></power>    
  </query>  
  <query>
    <pool></pool>     
    <name value="getRequisitionListForExcess" />
    <where>
      <w name="A.full_field" des=""  reqName="keyword1" dtype="ch" oper="like"  lg="AND" bt="" />
   	  <w name="A.full_field" des=""  reqName="keyword2" dtype="ch" oper="like"  lg="AND" bt="" />
   	  <w name="A.excessType" des=""  reqName="excessType" dtype="ch" oper="="  lg="AND" bt="" />
   	  <w name="A.requisitionId" des=""  reqName="requisitionId" dtype="ch" oper="="  lg="AND" bt="" />
     </where>
    <select>
      <f name="b.materialId" alias="" ctype="" />
      <f name="b.materialName" alias="" ctype="" />
      <f name="A.requisitionId" alias="" ctype="" />
      <f name="A.excessType" alias="" ctype="超领区分" />
      <f name="A.virtualClass" alias="" ctype="虚拟领料区分" />
      <f name="A.YSId" alias="" ctype="" />
      <f name="A.remarks" alias="" ctype="" />
      <f name="A.requisitionDate" alias="" ctype="" />
      <f name="b.totalQuantity" alias="orderQty" ctype="" />
      <f name="b.deliveryDate" alias="" ctype="" />
    </select>
    <from>v_requisitiondetail a left join v_orderdetail b on a.ysid=b.ysid</from>
    <orderby>A.YSId</orderby>
    <groupby></groupby>
    <having></having>
	<power></power>    
  </query> 
  <query>
    <pool></pool>     
    <name value="getRequisitionDetailForExcess" />
    <where>
   	  <w name="A.excessType" des=""  reqName="excessType" dtype="ch" oper="="  lg="AND" bt="" />
   	  <w name="A.requisitionId" des=""  reqName="requisitionId" dtype="ch" oper="="  lg="AND" bt="" />
     </where>
    <select>
      <f name="a.recordId" alias="" ctype="" />
      <f name="a.materialId" alias="" ctype="" />
      <f name="a.materialName" alias="" ctype="" />
      <f name="A.requisitionId" alias="" ctype="" />
      <f name="A.excessType" alias="" ctype="超领区分" />
      <f name="A.virtualClass" alias="" ctype="虚拟领料区分" />
      <f name="A.YSId" alias="" ctype="" />
      <f name="FORMAT(replace(A.scrapQuantity,',',''),2)" alias="scrapQuantity" ctype="" />
      <f name="A.remarks" alias="" ctype="" />
      <f name="FORMAT(replace(A.quantity,',',''),2)" alias="quantity" ctype="" />
      <f name="A.requisitionDate" alias="" ctype="" />
      <f name="FORMAT(replace(b.totalQuantity,',',''),2)" alias="orderQty" ctype="" />
      <f name="b.deliveryDate" alias="" ctype="" />
      <f name="b.materialId" alias="productId" ctype="" />
      <f name="b.materialName" alias="productName" ctype="" />
      <f name="IFNULL(c.stockOutId,'')" alias="stockOutId" ctype="" />
      <f name="FORMAT(IFNULL(replace(c.quantity,',',''),'0'),2)" alias="stockoutQty" ctype="" />
      <f name="d.contractId" alias="" ctype="" />
      <f name="d.supplierId" alias="" ctype="" />
    </select>
    <from>v_requisitiondetail a left join b_PurchaseOrderdDeduct d on a.YSId=d.YSId AND a.materialId=d.materialId left join v_stockout c on a.requisitionId=c.requisitionId AND a.materialId=c.materialId left join v_orderdetail b on a.ysid=b.ysid</from>
    <orderby>A.materialId</orderby>
    <groupby></groupby>
    <having></having>
	<power></power>    
  </query>
  <query>
    <pool></pool>     
    <name value="getOrderListForRequisitionVirtual" />
    <where>
      <w name="A.full_field" des=""  reqName="keyword1" dtype="ch" oper="like"  lg="AND" bt="" />
   	  <w name="A.full_field" des=""  reqName="keyword2" dtype="ch" oper="like"  lg="AND" bt="" />
   	  <w name="left(A.YSId,2)" des=""  reqName="YsYear" dtype="ch" oper="="  lg="AND" bt="" />
   	  <w name="A.virtualClass" des=""  reqName="virtualClass" dtype="ch" oper="="  lg="AND" bt="" />
     </where>
    <select>
      <f name="A.materialId" alias="" ctype="" />
      <f name="A.materialName" alias="" ctype="" />
      <f name="A.YSId" alias="" ctype="" />
      <f name="A.orderQty" alias="" ctype="" />
      <f name="A.manufactureQty" alias="" ctype="" />
      <f name="A.requisitionQty" alias="" ctype="" />
      <f name="A.requisitionDate" alias="" ctype="" />
      <f name="A.deliveryDate" alias="" ctype="" />
      <f name="A.virtualClass" alias="" ctype="" />
    </select>
    <from>v_requisitionforzhuangpei a</from>
    <orderby>A.YSId</orderby>
    <groupby></groupby>
    <having>#</having>
	<power></power>    
  </query>
  <query>
    <pool></pool>     
    <name value="getRequisitionAndStockout" />
    <where>
      <w name="A.full_field" des=""  reqName="keyword1" dtype="ch" oper="like"  lg="AND" bt="" />
   	  <w name="A.full_field" des=""  reqName="keyword2" dtype="ch" oper="like"  lg="AND" bt="" />
   	  <w name="a.requisitionSts"  des=""  reqName="requisitionSts" dtype="ch" oper="="  lg="AND" bt="" />
     </where>
    <select>
      <f name="A.materialId" alias="" ctype="" />
      <f name="A.materialName" alias="" ctype="" />
      <f name="A.full_field" alias="" ctype="" />
      <f name="A.recordId" alias="" ctype="" />
      <f name="A.quantity" alias="" ctype="" />
      <f name="A.unit" alias="" ctype="计量单位" />
      <f name="A.requisitionUserId" alias="" ctype="" />
      <f name="a.requisitionId" alias="" ctype="" />
      <f name="a.requisitionDate" alias="" ctype="" />
      <f name="a.requisitionSts" alias="" ctype="料件出库状态" />
      <f name="b.checkOutDate" alias="" ctype="" />
      <f name="b.stockOutId" alias="" ctype="" />
    </select>
    <!-- 条件可以获得系统变量值 '@:来源session,#来源 2016/1/8未实现' -->
    <!-- $：由程序根据where句的情况追加where关键字' 无$：程序不负责追加where关键字，在from句中需写入where关键字 -->
    <!-- status = '0' 表示 订单状态为 "新建"  A.status = '0' AND   -->
    <from>v_requisitiondetail a LEFT JOIN b_stockout b ON b.requisitionId=a.requisitionId AND b.deleteFlag='0' WHERE a.deleteFlag='0' AND LEFT(a.requisitionType,2)='05'</from>
    <orderby>a.requisitionId</orderby>
    <groupby></groupby>
    <having></having>
	<power></power>
  </query>
  <query>
    <pool></pool>     
    <name value="stockoutforproduct" />
    <where>
      <w name="A.fullField" des=""  reqName="keyword1" dtype="ch" oper="like"  lg="AND" bt="" />
   	  <w name="A.fullField" des=""  reqName="keyword2" dtype="ch" oper="like"  lg="AND" bt="" />
   	  <w name="a.YSId"  	  des=""  reqName="YSId" dtype="ch" oper="="  lg="AND" bt="" />
   	  <w name="a.stockOutId"  des=""  reqName="stockOutId" dtype="ch" oper="="  lg="AND" bt="" />
   	  <w name="a.status"  des=""  reqName="status" dtype="ch" oper="not in"  lg="AND" bt="" />
     </where>
    <select>
      <f name="A.YSId" alias="" ctype="" />
      <f name="A.stockOutId" alias="" ctype="" />
      <f name="A.PIId" alias="" ctype="" />
      <f name="A.materialId" alias="" ctype="" />
      <f name="A.materialName" alias="" ctype="" />
      <f name="A.stockoutQty" alias="" ctype="" />
      <f name="A.orderQty" alias="" ctype="" />
      <f name="A.stockinQty" alias="" ctype="" />
      <f name="A.completedQuantity" alias="" ctype="" />
      <f name="A.unit" alias="" ctype="计量单位" />
      <f name="A.storageDate" alias="" ctype="" />
      <f name="DATE_FORMAT(c.createTime,'%Y-%m-%d')" alias="stockoutDate" ctype="" />
      <f name="a.areaNumber" alias="" ctype="" />
      <f name="a.status" alias="" ctype="订单状态" />
    </select>
    <!-- 条件可以获得系统变量值 '@:来源session,#来源 2016/1/8未实现' -->
    <!-- $：由程序根据where句的情况追加where关键字' 无$：程序不负责追加where关键字，在from句中需写入where关键字 -->
    <!-- status = '0' 表示 订单状态为 "新建"  A.status = '0' AND   -->
    <from>v_stockoutforproduct a LEFT JOIN v_stockout_createtime_max c ON c.YSId=a.YSId AND c.materialId=a.materialId WHERE a.deleteFlag='0' #</from>
    <orderby>a.YSId </orderby>
    <groupby></groupby>
    <having></having>
	<power></power>
  </query>
  <query>
    <pool></pool>     
    <name value="stockoutHistory" />
    <where>
   	  <w name="a.YSId"  des=""  reqName="YSId" dtype="ch" oper="="  lg="AND" bt="" />
   	  <w name="a.stockOutId"  des=""  reqName="stockOutId" dtype="ch" oper="="  lg="AND" bt="" />
    </where>
    <select>
      <f name="A.YSId" alias="" ctype="" />
      <f name="A.stockOutId" alias="" ctype="" />
      <f name="A.requisitionId" alias="" ctype="" />
      <f name="A.keepUser" alias="" ctype="" />
      <f name="B.loginName" alias="" ctype="" />
      <f name="A.checkOutDate" alias="" ctype="" />
      <f name="A.stockoutType" alias="" ctype="" />
      <f name="A.quantity" alias="" ctype="" />
      <f name="A.price" alias="" ctype="" />
      <f name="A.materialId" alias="" ctype="" />
      <f name="A.materialName" alias="" ctype="" />
      <f name="c.materialId" alias="productId" ctype="" />
      <f name="c.materialName" alias="productName" ctype="" />
      <f name="c.totalQuantity" alias="orderQty" ctype="" />
    </select>
    <!-- 条件可以获得系统变量值 '@:来源session,#来源 2016/1/8未实现' -->
    <from>v_stockout a LEFT JOIN v_orderlist c ON c.YSId=a.YSId LEFT JOIN s_user b ON a.keepUser=b.UserID AND b.deleteFlag='0' WHERE a.deleteFlag='0' </from>
    <orderby>a.stockOutId</orderby>
    <groupby>A.stockOutId</groupby>
    <having></having>
	<power></power>
  </query>
  <query>
    <pool></pool>     
    <name value="stockoutHistoryForProduct" />
    <where>
   	  <w name="a.YSId"  des=""  reqName="YSId" dtype="ch" oper="="  lg="AND" bt="" />
   	  <w name="a.stockOutId"  des=""  reqName="stockOutId" dtype="ch" oper="="  lg="AND" bt="" />
    </where>
    <select>
      <f name="A.YSId" alias="" ctype="" />
      <f name="A.stockOutId" alias="" ctype="" />
      <f name="A.requisitionId" alias="" ctype="" />
      <f name="A.keepUser" alias="" ctype="" />
      <f name="B.loginName" alias="" ctype="" />
      <f name="A.checkOutDate" alias="" ctype="" />
      <f name="A.stockoutType" alias="" ctype="" />
      <f name="A.quantity" alias="" ctype="" />
      <f name="A.price" alias="" ctype="" />
      <f name="A.materialId" alias="" ctype="" />
      <f name="A.materialName" alias="" ctype="" />
    </select>
    <!-- 条件可以获得系统变量值 '@:来源session,#来源 2016/1/8未实现' -->
    <from>v_stockout a  JOIN s_user b ON a.keepUser=b.UserID AND b.deleteFlag='0' JOIN b_orderdetail c ON c.YSId=a.YSId AND a.materialId=c.materialId AND c.deleteFlag='0' WHERE a.deleteFlag='0' </from>
    <orderby>a.stockOutId</orderby>
    <groupby>A.stockOutId</groupby>
    <having></having>
	<power></power>
  </query>
  <query>
    <pool></pool>     
    <name value="stockoutByMaterialId" />
    <where>
   	  <w name="a.materialId"  des=""  reqName="materialId" dtype="ch" oper="="  lg="AND" bt="" />
   	  <w name="a.YSId"  des=""  reqName="YSId" dtype="ch" oper="="  lg="AND" bt="" />
   	  <w name="a.stockOutId"  des=""  reqName="stockOutId" dtype="ch" oper="="  lg="AND" bt="" />
     </where>
    <select>
      <f name="A.YSId" alias="" ctype="" />
      <f name="A.stockOutId" alias="" ctype="" />
      <f name="A.requisitionId" alias="" ctype="" />
      <f name="A.keepUser" alias="" ctype="" />
      <f name="B.loginName" alias="" ctype="" />
      <f name="A.checkOutDate" alias="" ctype="" />
      <f name="A.stockoutType" alias="" ctype="" />
      <f name="A.quantity" alias="" ctype="" />
      <f name="A.price" alias="" ctype="" />
      <f name="A.materialId" alias="" ctype="" />
      <f name="A.materialName" alias="" ctype="" />
    </select>
    <!-- 条件可以获得系统变量值 '@:来源session,#来源 2016/1/8未实现' -->
    <from>v_stockout a  LEFT JOIN s_user b ON a.keepUser=b.UserID AND b.deleteFlag='0' WHERE a.deleteFlag='0' </from>
    <orderby>a.stockOutId</orderby>
    <groupby></groupby>
    <having></having>
	<power></power>
  </query>
  <query>
    <pool></pool>    
    <name value="getMAXContractByMaterialId" />
     <where>
       <w name="e.materialId" des=""  reqName="materialId" dtype="ch" oper="="  lg="" bt="" />
    </where>
  <select>
      <f name="e.YSId" alias="" ctype="" />
      <f name="e.contractId" alias="" ctype="" />
      <f name="e.supplierId" alias="" ctype="" />
      <f name="e.materialId" alias="" ctype="" />
      <f name="e.quantity" alias="" ctype="" />
      <f name="e.purchaseDate" alias="" ctype="" />
  </select>
    <!-- 条件可以获得系统变量值 '@:来源session,#来源 2016/1/8未实现' -->
    <from>v_purchaseorderdetail e ,	(	SELECT	c.contractId,	max(c.purchaseDate) purchaseDate	FROM	(		SELECT		a.contractId,		a.purchaseDate,		b.paymentId		FROM		v_purchaseorderdetail a LEFT JOIN v_paymentdetail b ON a.contractId=b.contractId		WHERE a.materialId='#' 		 ORDER BY a.materialId,a.purchaseDate DESC	) c	WHERE c.paymentId IS NULL ) d WHERE e.contractId=d.contractId </from>
    <orderby></orderby>
    <groupby></groupby>
    <having></having>
	<power></power>
  </query>
  <query>
    <pool></pool>    
    <name value="purchasePlanForExcess" />
    <where>
    	<w name="A.YSId" des="" reqName="YSId" dtype="ch" oper="=" lg="AND" bt="" />
    </where>
  	<select>
      <f name="a.YSId" alias="" ctype="" />
      <f name="a.materialId" alias="" ctype="" />
      <f name="a.materialName" alias="" ctype="" />
      <f name="a.supplierId" alias="" ctype="" />
      <f name="a.quantityOnHand" alias="" ctype="" />
      <f name="a.availabelToPromise" alias="" ctype="" />
      <f name="a.unit" alias="" ctype="计量单位" />
      <f name="a.purchaseType" alias="purchaseTypeName" ctype="物料采购类别" />
      <f name="a.purchaseType" alias="" ctype="" />
      <f name="a.subBomNo" alias="" ctype="" />
      <f name="b.materialId" alias="productId" ctype="" />
      <f name="b.materialName" alias="productName" ctype="" />
      <f name="b.totalQuantity" alias="orderQty" ctype="" />
  </select>
    <!-- 条件可以获得系统变量值 '@:来源session,#来源 2016/1/8未实现' -->
    <!-- $：由程序根据where句的情况追加where关键字' 无$：程序不负责追加where关键字，在from句中需写入where关键字 -->
   <from>v_purchaseplan AS A LEFT JOIN v_orderdetail b ON a.ysid=b.ysid</from>
    <groupby></groupby>
    <having></having>
    <orderby>a.materialId</orderby>
	<power></power>    
  </query>
</root>