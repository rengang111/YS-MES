<?xml version="1.0" encoding="UTF-8"?>
<root>
  <query>
    <pool></pool>    
    <name value="getMaxStokcinDate" />
    <where>
    	<w name="a.YSId" des="" reqName="YSId" dtype="ch" oper="=" lg="AND" bt="" />
    </where>
  	<select>
      <f name="a.YSId" alias="" ctype="" />
      <f name="MAX(IFNULL(a.newDeliveryDate,a.deliveryDate))" alias="deliveryDate" ctype="" />
  </select>
   <from>v_purchaseorderdetail a
		WHERE LEFT(a.materialId,1) &lt;&gt; 'G'  
			AND IFNULL(REPLACE(a.contractStorage,',',''),0)+0 &lt; REPLACE(a.quantity,',','')+0
		</from>
    <orderby>a.materialId</orderby>
    <groupby></groupby>
    <having></having>
	<power></power>    
  </query>
</root>